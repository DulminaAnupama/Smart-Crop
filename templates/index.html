<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Crop Recommendation - Sri Lanka</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üåæ Smart Crop Recommendation</h1>
            <p class="subtitle">AI-Based Crop Advisory for Sri Lankan Farmers</p>
            <p class="sinhala">‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∑è‡∂Ç‡∂ö‡∑í‡∂ö ‡∂ú‡∑ú‡∑Ä‡∑ì‡∂±‡∑ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂∂‡∑ù‡∂ú ‡∂±‡∑í‡∂ª‡∑ä‡∂Ø‡∑ö‡∑Å ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫</p>
        </header>

        <main>
            <form method="POST" class="input-form">
                <h2>Enter Your Land Details</h2>
                <p class="form-desc">‡∂î‡∂∂‡∑ö ‡∂â‡∂©‡∂∏‡∑ä ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</p>
                
                <div class="form-group">
                    <label for="soil_type">Soil Type (‡∂¥‡∑É ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫)</label>
                    <select name="soil_type" id="soil_type" required>
                        <option value="">-- Select Soil Type --</option>
                        <option value="clay" {% if inputs and inputs.soil_type == 'clay' %}selected{% endif %}>Clay (‡∂∏‡∑ê‡∂ß‡∑í ‡∂¥‡∑É)</option>
                        <option value="sandy" {% if inputs and inputs.soil_type == 'sandy' %}selected{% endif %}>Sandy (‡∑Ä‡∑ê‡∂Ω‡∑í ‡∂¥‡∑É)</option>
                        <option value="loamy" {% if inputs and inputs.soil_type == 'loamy' %}selected{% endif %}>Loamy (‡∂¥‡∑É‡∑ä‡∂ö‡∑ê‡∂ß ‡∂¥‡∑É)</option>
                        <option value="red" {% if inputs and inputs.soil_type == 'red' %}selected{% endif %}>Red Earth (‡∂ª‡∂≠‡∑î ‡∂¥‡∑É)</option>
                        <option value="laterite" {% if inputs and inputs.soil_type == 'laterite' %}selected{% endif %}>Laterite (‡∂ö‡∂∂‡∑ú‡∂ö‡∑ä ‡∂¥‡∑É)</option>
                        <option value="alluvial" {% if inputs and inputs.soil_type == 'alluvial' %}selected{% endif %}>Alluvial (‡∑É‡∑è‡∂ª‡∑Ä‡∂≠‡∑ä ‡∂¥‡∑É)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="rainfall">Annual Rainfall (‡∑Ä‡∑è‡∂ª‡∑ä‡∑Ç‡∑í‡∂ö ‡∑Ä‡∂ª‡∑ä‡∑Ç‡∑è‡∂¥‡∂≠‡∂±‡∂∫) - mm</label>
                    <input type="number" name="rainfall" id="rainfall" 
                           placeholder="e.g., 1500" min="0" max="5000" required
                           value="{{ inputs.rainfall if inputs else '' }}">
                    <span class="hint">Sri Lanka average: 500-3500 mm</span>
                </div>

                <div class="form-group">
                    <label for="temperature">Average Temperature (‡∑É‡∑è‡∂∏‡∑è‡∂±‡∑ä‚Äç‡∂∫ ‡∂ã‡∑Ç‡∑ä‡∂´‡∂≠‡∑ä‡∑Ä‡∂∫) - ¬∞C</label>
                    <input type="number" name="temperature" id="temperature" 
                           placeholder="e.g., 28" min="10" max="45" step="0.1" required
                           value="{{ inputs.temperature if inputs else '' }}">
                    <span class="hint">Sri Lanka range: 15-35¬∞C</span>
                </div>

                <div class="form-group">
                    <label for="land_area">Land Area (‡∂â‡∂©‡∂∏‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫) - Acres</label>
                    <input type="number" name="land_area" id="land_area" 
                           placeholder="e.g., 2.5" min="0.1" max="1000" step="0.1" required
                           value="{{ inputs.land_area if inputs else '' }}">
                </div>

                <button type="submit" class="submit-btn">
                    Get Recommendations
                    <span class="btn-sinhala">‡∂±‡∑í‡∂ª‡∑ä‡∂Ø‡∑ö‡∑Å ‡∂Ω‡∂∂‡∑è‡∂ú‡∂±‡∑ä‡∂±</span>
                </button>
            </form>

            {% if recommendations %}
            <section class="results">
                <h2>üå± Recommended Crops</h2>
                <p class="results-desc">Based on your conditions for {{ inputs.land_area }} acres</p>

                {% if recommendations|length == 0 %}
                <div class="no-results">
                    <p>No suitable crops found for the given conditions.</p>
                    <p>Try adjusting your input values.</p>
                </div>
                {% else %}
                <div class="crop-cards">
                    {% for crop in recommendations %}
                    <div class="crop-card {% if loop.first %}best-match{% endif %}">
                        {% if loop.first %}
                        <span class="badge">Best Match</span>
                        {% endif %}
                        
                        <h3>{{ crop.name }}</h3>
                        
                        <div class="score-bar">
                            <div class="score-fill" style="width: {{ crop.score }}%"></div>
                            <span class="score-text">{{ crop.score }}% Match</span>
                        </div>

                        <div class="crop-details">
                            <div class="detail">
                                <span class="label">Expected Yield</span>
                                <span class="value">{{ "{:,.0f}".format(crop.yield) }} kg</span>
                            </div>
                            <div class="detail">
                                <span class="label">Yield per Acre</span>
                                <span class="value">{{ "{:,.0f}".format(crop.yield_per_acre) }} kg</span>
                            </div>
                            <div class="detail">
                                <span class="label">Growing Season</span>
                                <span class="value">{{ crop.season }}</span>
                            </div>
                        </div>

                        <p class="tips">üí° {{ crop.tips }}</p>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
            </section>
            {% endif %}
        </main>

        <footer>
            <p>Smart Crop Recommendation System for Sri Lankan Farmers</p>
            <p class="footer-sinhala">‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∑è‡∂Ç‡∂ö‡∑í‡∂ö ‡∂ú‡∑ú‡∑Ä‡∑ì‡∂±‡∑ä ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂±‡∑í‡∂ª‡∑ä‡∂∏‡∑è‡∂´‡∂∫ ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì</p>
        </footer>
    </div>
</body>
</html>

